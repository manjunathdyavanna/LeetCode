//Runtime: 10 ms, faster than 80.77% of Java online submissions for Capacity To Ship Packages Within D Days.
//Memory Usage: 53.5 MB, less than 48.82% of Java online submissions for Capacity To Ship Packages Within D Days.
/*
 *A conveyor belt has packages that must be shipped from one port to another within days days.
 *The ith package on the conveyor belt has a weight of weights[i]. Each day, we load the ship with packages 
 *on the conveyor belt (in the order given by weights). We may not load more weight than the maximum weight capacity of the ship.
 */

Return the least weight capacity of the ship that will result in all the packages on the conveyor belt being shipped within days days.
class Solution {
    public int shipWithinDays(int[] weights, int days) {
        int start = 0;
        int end = 0;
        for(int i=0; i<weights.length; i++){
            if(start<weights[i])
                start = weights[i];
            end += weights[i];
        }
        
        int mid = 0;
        int minPsbl = 0;
        int daysPsbl = 1;
        while(start<end){
            mid = (end+start)/2;
            for(int i=0; i<weights.length; i++){
                if(minPsbl+weights[i]<=mid){
                    minPsbl += weights[i];
                } else {
                    minPsbl = weights[i];
                    daysPsbl++;
                }
            }
            if(daysPsbl<=days)
                end = mid;
            else 
                start = mid + 1;
            minPsbl = 0;
            daysPsbl = 1;
        }
        return start;
    }
}
